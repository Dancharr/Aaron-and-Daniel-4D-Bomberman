package game;

import java.awt.*;
import javax.swing.*;
public class GameWindow extends JPanel implements Runnable{
    public static final int WIDTH = 800;
    public static final int HEIGHT = 600;
    private final int FPS = 60;
    private long frameTime = 1000 / FPS;
    public int tickCount = 0;

    public GameWindow() {
        setPreferredSize(new Dimension(WIDTH, HEIGHT));
        launch();
    }

    private boolean isRunning = false;
    private Thread thread;

    private void launch(){
        isRunning = true;
        thread = new Thread(this);
        thread.start();
    }
    public void run(){
        long elapsedTime, startTime, waitTime;
        while(isRunning){
            startTime = System.nanoTime();
            tick();
            repaint();
            elapsedTime = System.nanoTime() - startTime;
            waitTime = frameTime - elapsedTime / 1000000;

            if(waitTime <= 0){
                waitTime = 5;
            }

            try{
                Thread.sleep(waitTime);
            }catch(Exception e){
                e.printStackTrace();
            }
        }
    }

    public void tick(){
        tickCount++;
        if(tickCount % 60 == 0) System.out.println("Time Elapsed: " + tickCount / 60 + " second(s)");
    }

    public void paintComponent(Graphics g){
        super.paintComponent(g);
    }
}
